<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* checked box에 check했을때, 밑줄 긋기 */
        .box:checked{
            text-decoration: line-through;
        }
    </style>
  
</head>

<body>
    <!-- div로 묶기 -->
    <h1>할일 목록</h1> 
    <input type="text" id="push"><button type="button" id="pushButton">추가</button><br>
    <input type="button" id="choice" value="전체선택">
    <input type="button" id="pick" value="선택삭제">
    <div id="inner">
    </div>
    <script>
        let pushButton = document.querySelector("#pushButton");
        pushButton.addEventListener("click", function () {
            let message = document.querySelector("#push").value;
            let checkMessage = `<div><input type="checkbox" class="box"> ${message} <button type="button" class="del">삭제</button><div>` 
            document.querySelector("#inner").innerHTML += checkMessage; 

            // del을 id로 잡아서 querySelector로 잡아 배열말고 불러와서 해도 가능
            // let dels = document.querySelector("#id1");
            // dels.addEventListener("click", function(){
            //     event.target.parentNode.remove();
            // })

            let dels = document.querySelectorAll(".del");
            for(let i=0; i<dels.length; i++){
                dels[i].addEventListener("click", function(event){
                    console.log(event.target.parentNode);
                event.target.parentNode.remove();
                });
            }

            let choice = document.querySelector("#choice");
            let boxs = document.querySelectorAll(".box");
            choice.addEventListener('click',function(){
                for(let i=0; i<boxs.length; i++){
                    boxs[i].checked = true;
                }
            })

            let pick = document.querySelector("#pick");
            pick.addEventListener('click',function(){
                for(let i=0; i<boxs.length; i++){
                    if(boxs[i].checked){
                        boxs[i].parentNode.remove();
                    }
                }
            })
        });
    </script>
</body>
</html>